{"componentChunkName":"component---node-modules-narative-gatsby-theme-novela-src-templates-article-template-tsx","path":"/blog/2014/04/13/Why-YOU-not-Henry-Ford-should-design-your-working-life/","result":{"data":{"allSite":{"edges":[{"node":{"siteMetadata":{"name":"dain"}}}]}},"pageContext":{"article":{"id":"982e8cff-04cd-5df5-a4e1-f8f7255b3795","slug":"/blog/2014/04/13/Why-YOU-not-Henry-Ford-should-design-your-working-life/","secret":false,"title":"Why YOU — not Henry Ford — should design your working life","author":"Daniel Demmel","date":"April 13th, 2014","dateForSEO":"2014-04-13T00:00:00.000Z","timeToRead":4,"excerpt":"Your life was designed 150 years ago","canonical_url":null,"subscription":true,"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Why YOU — not Henry Ford — should design your working life\",\n  \"date\": \"2014-04-13T00:00:00.000Z\",\n  \"categories\": [\"sustainability\", \"work\", \"lifestyle\", \"economy\"],\n  \"author\": \"Daniel Demmel\",\n  \"hero\": \"./images/henry.jpg\",\n  \"excerpt\": \"Your life was designed 150 years ago\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h2\", {\n    \"id\": \"your-life-was-designed-150-years-ago\"\n  }, \"Your life was designed 150 years ago\"), mdx(\"p\", null, \"Western middle-class living operates on a working pattern \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://en.wikipedia.org/wiki/Eight-hour_day\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"invented in the 19th century\"), \", grudgingly accepted by progressive capitalists like Henry Ford in the beginning of 20th century and finally written into law early to mid-20th century in most countries.\"), mdx(\"p\", null, \"While certainly a lot of people realise this might not be ideal, just why are we\\u200A\\u2014\\u200Aas global society\\u200A\\u2014\\u200Aso timid about changing this pattern?\"), mdx(\"h2\", {\n    \"id\": \"first-world-problems\"\n  }, \"First world problems\"), mdx(\"p\", null, \"Much of my argument doesn\\u2019t apply if you\\u2019re struggling with low pay, shift-based work or live in a developing country. But many of you reading this post will be fortunate enough to be getting paid to think about and solve problems in creative ways. Yet we know that our brains are incapable of working at their peak, for hours in a row, while our bodies are tied to a desk and our colleagues are buzzing around us.\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"Chances are that you also earn more than what you \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"really need\"), \", to spend the surplus on stuff you \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"want but don\\u2019t need\"), \" or have the time to enjoy anyway.\")), mdx(\"p\", null, \"Funnily, some of the nicest things which you \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"do actually\"), \" \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"need\"), \" and \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://medium.com/@kidbombay/how-to-be-happy-be8b2dc0677\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"can really make you happy\"), \" \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://time.com/3950042/things-make-you-happier/\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"(as science shows)\"), \" don\\u2019t cost a lot of money: taking a walk in nature, relaxing with people you like, cooking some fresh food from scratch, giving time to enjoy the meal together with your family and friends immersed in conversations, or keeping a gratitude journal.\"), mdx(\"p\", null, \"So why do we still choose to join the rush hour congestion every day, and with that, collectively invest in expensive and destructive infrastructure developments just to serve these one-hour time windows? Or, why do we create a binary choice between unemployment and low paid jobs or burning out with no time to rest in sight until we retire, being too old and ill to enjoy it?\"), mdx(\"h2\", {\n    \"id\": \"is-it-about-co-location-then\"\n  }, \"Is it about co-location then?\"), mdx(\"p\", null, \"Yes, being next to teammates and interacting in person is something which can\\u2019t (fully, yet) be replaced by telecommunication, but do or should we have meetings all day with the same people?\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"Couldn\\u2019t we organise our discussions a bit smarter into clusters\\u200A\\u2014\\u200Aboth within a day and a week\\u200A\\u2014\\u200Aand spend the rest of the time away from the hustle of the workspace, with space to think when we need it the most?\")), mdx(\"p\", null, \"Wouldn\\u2019t we still have enough chance for serendipitous conversation between colleagues from other parts of the company if only we made sure to spend our lunch time and coffee or tea breaks in the communal area rather than in front of our computers?\"), mdx(\"h2\", {\n    \"id\": \"planet-people-and-economy\"\n  }, \"Planet, people and economy\"), mdx(\"p\", null, \"What really changed my way of thinking about time is a brilliant and provocative study by the New Economics Foundation, called \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://www.neweconomics.org/publications/entry/21-hours\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"21 hours\"), \" (as in work week). In this paper they argue that by shortening our time spent at work we could decrease overconsumption, stress, and traffic congestion while increasing the number people employed in quality jobs, community and political involvement, and general mental and physical wellbeing.\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"Once you stop looking at life as a treadmill of 5 long working days and a short weekend\\u200A\\u2014\\u200Abarely enough to gasp for breath \\u2014and give yourself permission to explore what else is possible, magic starts to happen in your mind.\")), mdx(\"p\", null, \"If you want a second opinion or to dig deeper, also take a look at the Institute for the Future\\u2019s \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://www.iftf.org/our-work/people-technology/technology-horizons/the-future-of-work/\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"Future of Work study\"), \".\"), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"2000px\"\n    }\n  }), \"\\n      \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"58.650000000000006%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsSAAALEgHS3X78AAACnklEQVQozyWSy08TURjF5w9x49q9xh1RdyYYNQGCECMqRCvQKb0zc+e+586zT9rSltZphxZ5hPISgRDQRBaKxmh8rXRlNDFsXbl0Ejdn9+Wc852fYpm6gZABMSagu9xaXWoZpqYZOIXEFLU1xA1ICeHEhGVPHLRzQE1BE+sG1jRTKZUTTw9uhAu3W53hk4/vDjdrhM1wyk3pD+SbULiESYcYQJBu1XvdtscGbuYowIjEnkp39dabTxced+5IZ7o07yfBmEkJp3LG8u5nqkhX08YMxMhiegRHn09f7KWurk9dhoj9Px6SjtrqDvueOhEWcdGDkD0Qft/K0fne8Uhj8cry/mB5wdLATvLSl4kzi9qQT5HFhaYjhVAIdNiMbtuuIXOUCk04OSNcObd1cnbn/a0new9K4Sh2uJoIJ/tL6uj2VB94OK6qaUa5ouuEUo5MF2PBuGlhOG7nB6PN6ah3vbnW31h1WktrUac+H3petppzO8lrKJlITj5CiCmORXa3O882wtVuNaXxdNrQmJuw57LlBgZwJKh2j9/+/f3n29fvgluu66k6Q4TD+NtxbE+YhUIhqmUaJX+7ck9SPd7JMAkRrgGJh9zd7cPTn6ef3n8GGtJ0DICRBobtBNCkSq8wkmWTP9YHXrbubs1NOAykNQwhrvq1dnEhykf1TN2WPmOSC6dUqlrSCzKFaq1pYq583pMHXf6hO3zcHmsGkxZDZrwDkget/RfRUeAUOffihF6QC8POxsbTVruTL5QRtmJ4lF+vKntPMkmN5W3QDKYE1R1u9ebW69nG0uxybbZWqM1TIqXtB0G+OFupzNU9N5ASMSEVglFax4kUiQmd0SnQY/SIzf24cJRfqARl2xYmYnHDWDERQbZoWxbQxg2E/wGjKnqykGxTEwAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n  \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/5d9bf2389f442af9ffc985f5fcaad7b7/56b60/TH-FutureofWork.webp 2000w\"],\n    \"sizes\": \"(max-width: 2000px) 100vw, 2000px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/5d9bf2389f442af9ffc985f5fcaad7b7/99e71/TH-FutureofWork.png 2000w\"],\n    \"sizes\": \"(max-width: 2000px) 100vw, 2000px\",\n    \"type\": \"image/png\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"src\": \"/static/5d9bf2389f442af9ffc985f5fcaad7b7/99e71/TH-FutureofWork.png\",\n    \"alt\": \"Credits: © 2015 Institute for the Future | http://www.iftf.org/our-work/people-technology/technology-horizons/the-future-of-work/\",\n    \"title\": \"Open full size image\",\n    \"loading\": \"lazy\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    }\n  })), \"\\n      \"), \"\\n    \")), mdx(\"h2\", {\n    \"id\": \"so-what-do-i-do\"\n  }, \"So what do I do?\"), mdx(\"p\", null, \"It\\u2019s all very well, I hear you say, but we can\\u2019t all just move to France with their leisurely work hours, can we? Well, as an example there\\u2019s a \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.gov.uk/flexible-working\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"law in the UK\"), \" that allows you to ask for any form of flexible work arrangement and unless your employer has a very good reason why they can\\u2019t accommodate for your request\\u200A\\u2014\\u200Awhich is unlikely for an office job\\u200A\\u2014\\u200Ayou should be allowed to have your way.\"), mdx(\"p\", null, \"So this is exactly what I did in 2013, just after my son was born.\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"My choice in the end was every Wednesday off. While first I thought about getting a long weekend, slicing the week into half and not having to work more than two days in a row\\u200A\\u2014\\u200Aever!\\u200A\\u2014\\u200Aworks incredibly well.\")), mdx(\"p\", null, \"To make this happen I had to sacrifice 20% of my salary which might sound a bit off-putting at first, but if you think of it this way: you\\u2019re giving up the highest taxed bit first, or you could also just decrease hours with the same percentage instead of a pay rise next time, suddenly it hurts much less.\"), mdx(\"h2\", {\n    \"id\": \"power-to-the-parents\"\n  }, \"Power to the parents\"), mdx(\"p\", null, \"Apart from the decreased normal working pattern, I\\u2019m lucky enough to work for ustwo with a progressive paternity policy, enabling fathers to take over maternity time from mother and topping up the statutory pay to full salary.\"), mdx(\"p\", null, \"I can\\u2019t even begin to describe how wonderful it was for me to be able to spend 2 months during last summer with my little boy, but having some discussions with a few colleagues I realised that this paternal time off has profound implications beyond a healthier, more balanced child and less stressed young mother\\u200A\\u2014\\u200Aif these weren\\u2019t enough already!\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"If men also take months off after a child has been born\\u200A\\u2014\\u200Aand in general share looking after the little ones\\u200A\\u2014\\u200Athe ridiculous and often subconscious stigma of mothers as \\u201Cless dedicated\\u201D workers will all but disappear.\")), mdx(\"p\", null, \"Needless to say I was more than happy to bask in the glory of a gender equality champion after this realisation, but this is just a small step to close the gap for a more inclusive workplace. For me personally that is, I can\\u2019t feel grateful enough for this forward looking and generous policy!\"), mdx(\"h2\", {\n    \"id\": \"time-to-design-your-life\"\n  }, \"Time to design your life\"), mdx(\"p\", null, \"There\\u2019s no ultimate recommendation as everyone\\u2019s different, but you should give yourself time and space to think about what would be the best working pattern for you and what matters the most to you in life by filling in \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://iwtmad.files.wordpress.com/2012/12/the-living-legacy-workbook6.pdf\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"The Living Legacy workbook (PDF)\"), \". As part of this you should realise that it\\u2019s not a lack of dedication to your career at all to find the way to sustainably give your best instead of burning yourself out!\"), mdx(\"h3\", {\n    \"id\": \"credits\"\n  }, \"Credits\"), mdx(\"p\", null, \"Hero image from \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://blog.qad.com/2017/01/henry-ford/\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"https://blog.qad.com/2017/01/henry-ford/\")), mdx(\"p\", null, \"This post was originally published on the ustwo blog: \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://ustwo.com/blog/you-should-design-your-working-life/\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"http://ustwo.com/blog/you-should-design-your-working-life/\")));\n}\n;\nMDXContent.isMDXComponent = true;","hero":{"full":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAABAABBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAATrJ0wlsf//EABwQAAEDBQAAAAAAAAAAAAAAAAECAxEAEiExMv/aAAgBAQABBQLEpkBThua6e0K//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGhAAAgMBAQAAAAAAAAAAAAAAAAECETEQIf/aAAgBAQAGPwKlgpywdeoj3//EABsQAAIDAAMAAAAAAAAAAAAAAAABESExQWGB/9oACAEBAAE/IaSqOTz1Qlz7RFJ2aiUf/9oADAMBAAIAAwAAABBTz//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABoQAQACAwEAAAAAAAAAAAAAAAERIQAxQVH/2gAIAQEAAT8QFDmCh2tFJfMglBSuF8Y7m6BIGrJypCeoyg8Bg8rCbBvP/9k=","aspectRatio":2,"src":"/static/636dd0e5b0997ced37d4ab3de1134814/67507/henry.jpg","srcSet":"/static/636dd0e5b0997ced37d4ab3de1134814/e0f30/henry.jpg 236w,\n/static/636dd0e5b0997ced37d4ab3de1134814/86afd/henry.jpg 472w,\n/static/636dd0e5b0997ced37d4ab3de1134814/67507/henry.jpg 900w","srcWebp":"/static/636dd0e5b0997ced37d4ab3de1134814/ae199/henry.webp","srcSetWebp":"/static/636dd0e5b0997ced37d4ab3de1134814/77392/henry.webp 236w,\n/static/636dd0e5b0997ced37d4ab3de1134814/1f177/henry.webp 472w,\n/static/636dd0e5b0997ced37d4ab3de1134814/ae199/henry.webp 900w","sizes":"(max-width: 900px) 100vw, 900px"},"regular":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAABAABBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAATrJ0wlsf//EABwQAAEDBQAAAAAAAAAAAAAAAAECAxEAEiExMv/aAAgBAQABBQLEpkBThua6e0K//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGhAAAgMBAQAAAAAAAAAAAAAAAAECETEQIf/aAAgBAQAGPwKlgpywdeoj3//EABsQAAIDAAMAAAAAAAAAAAAAAAABESExQWGB/9oACAEBAAE/IaSqOTz1Qlz7RFJ2aiUf/9oADAMBAAIAAwAAABBTz//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABoQAQACAwEAAAAAAAAAAAAAAAERIQAxQVH/2gAIAQEAAT8QFDmCh2tFJfMglBSuF8Y7m6BIGrJypCeoyg8Bg8rCbBvP/9k=","aspectRatio":2,"src":"/static/636dd0e5b0997ced37d4ab3de1134814/1dc0b/henry.jpg","srcSet":"/static/636dd0e5b0997ced37d4ab3de1134814/3a5ce/henry.jpg 163w,\n/static/636dd0e5b0997ced37d4ab3de1134814/05730/henry.jpg 327w,\n/static/636dd0e5b0997ced37d4ab3de1134814/1dc0b/henry.jpg 653w,\n/static/636dd0e5b0997ced37d4ab3de1134814/67507/henry.jpg 900w","srcWebp":"/static/636dd0e5b0997ced37d4ab3de1134814/0acdf/henry.webp","srcSetWebp":"/static/636dd0e5b0997ced37d4ab3de1134814/ac59e/henry.webp 163w,\n/static/636dd0e5b0997ced37d4ab3de1134814/7660b/henry.webp 327w,\n/static/636dd0e5b0997ced37d4ab3de1134814/0acdf/henry.webp 653w,\n/static/636dd0e5b0997ced37d4ab3de1134814/ae199/henry.webp 900w","sizes":"(max-width: 653px) 100vw, 653px"},"narrow":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAABAABBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAATrJ0wlsf//EABwQAAEDBQAAAAAAAAAAAAAAAAECAxEAEiExMv/aAAgBAQABBQLEpkBThua6e0K//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGhAAAgMBAQAAAAAAAAAAAAAAAAECETEQIf/aAAgBAQAGPwKlgpywdeoj3//EABsQAAIDAAMAAAAAAAAAAAAAAAABESExQWGB/9oACAEBAAE/IaSqOTz1Qlz7RFJ2aiUf/9oADAMBAAIAAwAAABBTz//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABoQAQACAwEAAAAAAAAAAAAAAAERIQAxQVH/2gAIAQEAAT8QFDmCh2tFJfMglBSuF8Y7m6BIGrJypCeoyg8Bg8rCbBvP/9k=","aspectRatio":2,"src":"/static/636dd0e5b0997ced37d4ab3de1134814/eaa58/henry.jpg","srcSet":"/static/636dd0e5b0997ced37d4ab3de1134814/5a3ee/henry.jpg 114w,\n/static/636dd0e5b0997ced37d4ab3de1134814/41f8f/henry.jpg 229w,\n/static/636dd0e5b0997ced37d4ab3de1134814/eaa58/henry.jpg 457w,\n/static/636dd0e5b0997ced37d4ab3de1134814/c309b/henry.jpg 686w,\n/static/636dd0e5b0997ced37d4ab3de1134814/67507/henry.jpg 900w","srcWebp":"/static/636dd0e5b0997ced37d4ab3de1134814/15384/henry.webp","srcSetWebp":"/static/636dd0e5b0997ced37d4ab3de1134814/31fce/henry.webp 114w,\n/static/636dd0e5b0997ced37d4ab3de1134814/e3e25/henry.webp 229w,\n/static/636dd0e5b0997ced37d4ab3de1134814/15384/henry.webp 457w,\n/static/636dd0e5b0997ced37d4ab3de1134814/0258d/henry.webp 686w,\n/static/636dd0e5b0997ced37d4ab3de1134814/ae199/henry.webp 900w","sizes":"(max-width: 457px) 100vw, 457px"},"seo":{"src":"/static/636dd0e5b0997ced37d4ab3de1134814/67507/henry.jpg"}}},"authors":[{"authorsPage":true,"bio":"Design technologist / web dev @berylbikes, ex @ustwo, ♥ open source, degrowth & spiritual ecology activist, minimalist, vegetarian, @zzuuu's husband, dad, INTP\n","id":"62a803a8-015c-57d1-9846-ac8bc624ff30","name":"Daniel Demmel","featured":true,"social":[{"url":"https://twitter.com/daaain"},{"url":"https://github.com/daaain"},{"url":"https://stackoverflow.com/dain"},{"url":"https://www.linkedin.com/in/danieldemmel/"}],"slug":"/authors/Daniel-Demmel","avatar":{"small":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAQFAv/EABcBAAMBAAAAAAAAAAAAAAAAAAEDBAL/2gAMAwEAAhADEAAAAbc3ufDLkZNGtkj5dIEf/8QAGhAAAgMBAQAAAAAAAAAAAAAAAgMBERIABP/aAAgBAQABBQKSpI3wnUesjg16wWhlgCxV47zDDA//xAAbEQACAQUAAAAAAAAAAAAAAAAAAQMQERIhMf/aAAgBAwEBPwGPuzBOlz//xAAXEQADAQAAAAAAAAAAAAAAAAAAAhAS/9oACAECAQE/AWMX/8QAHRAAAgEEAwAAAAAAAAAAAAAAAAEREiExQQIQUv/aAAgBAQAGPwJRa2y7npeGsChbghjqWClYG+alyf/EABwQAQACAwADAAAAAAAAAAAAAAEAESExQVFxkf/aAAgBAQABPyEn6sYSsAcSYavkJNUDh8yzMFxDpL7jhZzBDSG4XQKz/9oADAMBAAIAAwAAABAP30D/xAAZEQEBAAMBAAAAAAAAAAAAAAABABEhMVH/2gAIAQMBAT8QQUbwRyy9v//EABoRAQEAAgMAAAAAAAAAAAAAAAEAESExYZH/2gAIAQIBAT8QKmp7Ps82C//EAB4QAQADAAICAwAAAAAAAAAAAAEAESExUUGBcaHR/9oACAEBAAE/EApCz0b59xINViPWShKK5tzEVQIPofMb+SBa8DNC1jXRluokopeWX7ZeXBHOuLF8gK9Afs//2Q==","aspectRatio":1,"src":"/static/054e2aa5c688f14f7cdef9cee9915da9/fa1ea/dain.jpg","srcSet":"/static/054e2aa5c688f14f7cdef9cee9915da9/afb2b/dain.jpg 13w,\n/static/054e2aa5c688f14f7cdef9cee9915da9/7c20e/dain.jpg 25w,\n/static/054e2aa5c688f14f7cdef9cee9915da9/fa1ea/dain.jpg 50w,\n/static/054e2aa5c688f14f7cdef9cee9915da9/03612/dain.jpg 75w,\n/static/054e2aa5c688f14f7cdef9cee9915da9/61cdf/dain.jpg 100w,\n/static/054e2aa5c688f14f7cdef9cee9915da9/25252/dain.jpg 400w","srcWebp":"/static/054e2aa5c688f14f7cdef9cee9915da9/e7b2c/dain.webp","srcSetWebp":"/static/054e2aa5c688f14f7cdef9cee9915da9/58718/dain.webp 13w,\n/static/054e2aa5c688f14f7cdef9cee9915da9/74aad/dain.webp 25w,\n/static/054e2aa5c688f14f7cdef9cee9915da9/e7b2c/dain.webp 50w,\n/static/054e2aa5c688f14f7cdef9cee9915da9/ed320/dain.webp 75w,\n/static/054e2aa5c688f14f7cdef9cee9915da9/66016/dain.webp 100w,\n/static/054e2aa5c688f14f7cdef9cee9915da9/fc32b/dain.webp 400w","sizes":"(max-width: 50px) 100vw, 50px"},"medium":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAQFAv/EABcBAAMBAAAAAAAAAAAAAAAAAAEDBAL/2gAMAwEAAhADEAAAAbc3ufDLkZNGtkj5dIEf/8QAGhAAAgMBAQAAAAAAAAAAAAAAAgMBERIABP/aAAgBAQABBQKSpI3wnUesjg16wWhlgCxV47zDDA//xAAbEQACAQUAAAAAAAAAAAAAAAAAAQMQERIhMf/aAAgBAwEBPwGPuzBOlz//xAAXEQADAQAAAAAAAAAAAAAAAAAAAhAS/9oACAECAQE/AWMX/8QAHRAAAgEEAwAAAAAAAAAAAAAAAAEREiExQQIQUv/aAAgBAQAGPwJRa2y7npeGsChbghjqWClYG+alyf/EABwQAQACAwADAAAAAAAAAAAAAAEAESExQVFxkf/aAAgBAQABPyEn6sYSsAcSYavkJNUDh8yzMFxDpL7jhZzBDSG4XQKz/9oADAMBAAIAAwAAABAP30D/xAAZEQEBAAMBAAAAAAAAAAAAAAABABEhMVH/2gAIAQMBAT8QQUbwRyy9v//EABoRAQEAAgMAAAAAAAAAAAAAAAEAESExYZH/2gAIAQIBAT8QKmp7Ps82C//EAB4QAQADAAICAwAAAAAAAAAAAAEAESExUUGBcaHR/9oACAEBAAE/EApCz0b59xINViPWShKK5tzEVQIPofMb+SBa8DNC1jXRluokopeWX7ZeXBHOuLF8gK9Afs//2Q==","aspectRatio":1,"src":"/static/054e2aa5c688f14f7cdef9cee9915da9/61cdf/dain.jpg","srcSet":"/static/054e2aa5c688f14f7cdef9cee9915da9/7c20e/dain.jpg 25w,\n/static/054e2aa5c688f14f7cdef9cee9915da9/fa1ea/dain.jpg 50w,\n/static/054e2aa5c688f14f7cdef9cee9915da9/61cdf/dain.jpg 100w,\n/static/054e2aa5c688f14f7cdef9cee9915da9/59538/dain.jpg 150w,\n/static/054e2aa5c688f14f7cdef9cee9915da9/fd013/dain.jpg 200w,\n/static/054e2aa5c688f14f7cdef9cee9915da9/25252/dain.jpg 400w","srcWebp":"/static/054e2aa5c688f14f7cdef9cee9915da9/66016/dain.webp","srcSetWebp":"/static/054e2aa5c688f14f7cdef9cee9915da9/74aad/dain.webp 25w,\n/static/054e2aa5c688f14f7cdef9cee9915da9/e7b2c/dain.webp 50w,\n/static/054e2aa5c688f14f7cdef9cee9915da9/66016/dain.webp 100w,\n/static/054e2aa5c688f14f7cdef9cee9915da9/d9b14/dain.webp 150w,\n/static/054e2aa5c688f14f7cdef9cee9915da9/6b183/dain.webp 200w,\n/static/054e2aa5c688f14f7cdef9cee9915da9/fc32b/dain.webp 400w","sizes":"(max-width: 100px) 100vw, 100px"},"large":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAQFAv/EABcBAAMBAAAAAAAAAAAAAAAAAAEDBAL/2gAMAwEAAhADEAAAAbc3ufDLkZNGtkj5dIEf/8QAGhAAAgMBAQAAAAAAAAAAAAAAAgMBERIABP/aAAgBAQABBQKSpI3wnUesjg16wWhlgCxV47zDDA//xAAbEQACAQUAAAAAAAAAAAAAAAAAAQMQERIhMf/aAAgBAwEBPwGPuzBOlz//xAAXEQADAQAAAAAAAAAAAAAAAAAAAhAS/9oACAECAQE/AWMX/8QAHRAAAgEEAwAAAAAAAAAAAAAAAAEREiExQQIQUv/aAAgBAQAGPwJRa2y7npeGsChbghjqWClYG+alyf/EABwQAQACAwADAAAAAAAAAAAAAAEAESExQVFxkf/aAAgBAQABPyEn6sYSsAcSYavkJNUDh8yzMFxDpL7jhZzBDSG4XQKz/9oADAMBAAIAAwAAABAP30D/xAAZEQEBAAMBAAAAAAAAAAAAAAABABEhMVH/2gAIAQMBAT8QQUbwRyy9v//EABoRAQEAAgMAAAAAAAAAAAAAAAEAESExYZH/2gAIAQIBAT8QKmp7Ps82C//EAB4QAQADAAICAwAAAAAAAAAAAAEAESExUUGBcaHR/9oACAEBAAE/EApCz0b59xINViPWShKK5tzEVQIPofMb+SBa8DNC1jXRluokopeWX7ZeXBHOuLF8gK9Afs//2Q==","aspectRatio":1,"src":"/static/054e2aa5c688f14f7cdef9cee9915da9/ec46e/dain.jpg","srcSet":"/static/054e2aa5c688f14f7cdef9cee9915da9/a2637/dain.jpg 82w,\n/static/054e2aa5c688f14f7cdef9cee9915da9/15203/dain.jpg 164w,\n/static/054e2aa5c688f14f7cdef9cee9915da9/ec46e/dain.jpg 328w,\n/static/054e2aa5c688f14f7cdef9cee9915da9/25252/dain.jpg 400w","srcWebp":"/static/054e2aa5c688f14f7cdef9cee9915da9/5a48e/dain.webp","srcSetWebp":"/static/054e2aa5c688f14f7cdef9cee9915da9/2d087/dain.webp 82w,\n/static/054e2aa5c688f14f7cdef9cee9915da9/29d87/dain.webp 164w,\n/static/054e2aa5c688f14f7cdef9cee9915da9/5a48e/dain.webp 328w,\n/static/054e2aa5c688f14f7cdef9cee9915da9/fc32b/dain.webp 400w","sizes":"(max-width: 328px) 100vw, 328px"}}}],"basePath":"/","slug":"/blog/2014/04/13/Why-YOU-not-Henry-Ford-should-design-your-working-life/","id":"982e8cff-04cd-5df5-a4e1-f8f7255b3795","title":"Why YOU — not Henry Ford — should design your working life","canonicalUrl":null,"mailchimp":"","next":[{"id":"9db53343-d00f-5af2-afbe-c4baca08f9c5","slug":"/blog/2013/03/22/An-introduction-to-jQuery-Deferred-Promise-and-the-design-pattern-in-general/","secret":false,"title":"An introduction to jQuery Deferred / Promise and the design pattern in general","author":"Daniel Demmel","date":"March 22nd, 2013","dateForSEO":"2013-03-22T00:00:00.000Z","timeToRead":2,"excerpt":"The first iteration of a product should be about learning","canonical_url":null,"subscription":true,"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"An introduction to jQuery Deferred / Promise and the design pattern in general\",\n  \"date\": \"2013-03-22T00:00:00.000Z\",\n  \"categories\": [\"web\", \"development\", \"jquery\", \"javascript\", \"patterns\"],\n  \"author\": \"Daniel Demmel\",\n  \"hero\": \"./images/slide.png\",\n  \"excerpt\": \"The first iteration of a product should be about learning\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Update 2 (2015/10/23) I realised I should really put an update on this post, at this point you should really not use Deferred and instead of jQuery (or any other 3rd party library) just start relying on the native ES6 / ES2015 Promise \\u2013 unless you need some advanced functionality, in which case try something like \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/petkaantonov/bluebird\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"Bluebird\"), \".\"), mdx(\"p\", null, \"For a more up to date introduction to Promises, check out \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://pouchdb.com/2015/05/18/we-have-a-problem-with-promises.html\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"this post on the PouchDB blog\"), \".\"), mdx(\"hr\", null), mdx(\"p\", null, \"I gave an introductory talk a while back at the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://www.meetup.com/londonajax/events/100830572/\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"London Ajax User Group\"), \" about jQuery Promises after which there was a lively debate, so I thought it would be great to post the content of the slides with some notes as a sort of tutorial.\"), mdx(\"p\", null, \"Update (2012/09/01): As it turns out there was a nice video recorded of the talk, if you have 10 minutes free give it a watch!\"), mdx(\"p\", null, mdx(\"div\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-iframe-wrapper\",\n    \"style\": {\n      \"paddingBottom\": \"58.82352941176471%\",\n      \"position\": \"relative\",\n      \"height\": \"0\",\n      \"overflow\": \"hidden\",\n      \"margin\": \"0 0 1.0725rem 0\"\n    }\n  }), \" \", mdx(\"div\", _extends({\n    parentName: \"div\"\n  }, {\n    \"className\": \"embedVideo-container\"\n  }), \" \", mdx(\"iframe\", _extends({\n    parentName: \"div\"\n  }, {\n    \"src\": \"https://player.vimeo.com/video/73539595\",\n    \"className\": \"embedVideo-iframe\",\n    \"style\": {\n      \"border\": \"0\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\",\n      \"width\": \"100%\",\n      \"height\": \"100%\"\n    },\n    \"allowFullScreen\": true\n  })), \" \"), \" \")), mdx(\"p\", null, \"Introduction to jQuery Promises / Deferreds - London Ajax User Group 12.02.2013.\"), mdx(\"p\", null, \"The original presentation is on Github (made with \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/infews/keydown\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"Keydown\"), \" as presentation engine which doesn\\u2019t seem to handle resizing well enough to be embeddable): \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://daaain.github.com/jquery-deferred-intro/jquery-deferred-intro/slides.html\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"daaain.github.com/jquery-deferred-intro/jquery-deferred-intro/slides.html\")), mdx(\"h2\", {\n    \"id\": \"a-simple-cors-ajax-example\"\n  }, \"A simple CORS AJAX example\"), mdx(\"p\", null, \"As a simple scenario to optimise I set up a not very useful example of loading 2 articles from HTML5Rocks and showing the first sections of each.\"), mdx(\"iframe\", {\n    width: \"100%\",\n    height: \"300\",\n    src: \"http://jsfiddle.net/dain/87uPV/3/embedded/result\",\n    allowFullScreen: \"allowfullscreen\",\n    frameBorder: \"0\"\n  }), mdx(\"h2\", {\n    \"id\": \"so-in-which-cases-are-promises-useful\"\n  }, \"So in which cases are Promises useful?\"), mdx(\"h3\", {\n    \"id\": \"ajax-request-handler-spaghetti\"\n  }, \"AJAX request handler spaghetti\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"$.ajax({\\n  type: \\\"GET\\\",\\n  url: \\\"http://www.html5rocks.com/en/tutorials/file/xhr2/\\\",\\n  success: function(response) {\\n    var insertDiv1 = $(\\\"<div></div>\\\");\\n    insertDiv1.html(\\n      $(response)\\n        .find(\\\"section\\\")\\n        .html()\\n    );\\n    $.ajax({\\n      type: \\\"GET\\\",\\n      url: \\\"http://www.html5rocks.com/en/tutorials/audio/scheduling/\\\",\\n      success: function(response) {\\n        var insertDiv2 = $(\\\"<div></div>\\\");\\n        insertDiv2.html(\\n          $(response)\\n            .find(\\\"section\\\")\\n            .html()\\n        );\\n        $(\\\"body\\\").append(insertDiv1, \\\"<hr/>\\\", insertDiv2);\\n      }\\n    });\\n  }\\n});\\n\")), mdx(\"h3\", {\n    \"id\": \"timing-issues-dom-ready-animations-etc\"\n  }, \"Timing issues (DOM ready, animations, etc)\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"$(document).ready(function() {\\n  $.ajax({\\n    type: \\\"GET\\\",\\n    url: \\\"http://www.html5rocks.com/en/tutorials/file/xhr2/\\\",\\n    success: function(response) {\\n      var insertDiv1 = $(\\\"<div></div>\\\");\\n      insertDiv1.html(\\n        $(response)\\n          .find(\\\"section\\\")\\n          .html()\\n      );\\n      $.ajax({\\n        type: \\\"GET\\\",\\n        url: \\\"http://www.html5rocks.com/en/tutorials/audio/scheduling/\\\",\\n        success: function(response) {\\n          var insertDiv2 = $(\\\"<div></div>\\\");\\n          insertDiv2.html(\\n            $(response)\\n              .find(\\\"section\\\")\\n              .html()\\n          );\\n          $(\\\"body\\\").append(insertDiv1, \\\"<hr/>\\\", insertDiv2);\\n        }\\n      });\\n    }\\n  });\\n});\\n\")), mdx(\"h2\", {\n    \"id\": \"but-what-are-these-deferreds-and-promises-really\"\n  }, \"But what are these Deferreds and Promises really?\"), mdx(\"h3\", {\n    \"id\": \"deferred\"\n  }, \"Deferred\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"A proxy for an asynchronous, future event\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Has an interface for getting \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"resolve()\"), \"d or \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"reject()\"), \"ed\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Starts in \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"pending\"), \" state, can only be finished once\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Calls listeners immediately (but always async) once resolved\")), mdx(\"h3\", {\n    \"id\": \"promise\"\n  }, \"Promise\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Allows listening and state inspection (using \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"state()\"), \"), but completely immutable so no interface for resolution\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Basic (jQuery specific) listeners are \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"done()\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"fail()\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Can be chained with \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"then()\"), \" (used to be \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"pipe()\"), \")\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Can be grouped and processed using \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"$.when()\"))), mdx(\"h2\", {\n    \"id\": \"how-do-they-work\"\n  }, \"How do they work?\"), mdx(\"h3\", {\n    \"id\": \"a-canonical-deferred-example\"\n  }, \"A canonical Deferred example\"), mdx(\"p\", null, \"Setting up a listener and triggering it with resolve:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"var deferred = $.Deferred();\\n\\ndeferred.done(function(value) {\\n  alert(value);\\n});\\n\\ndeferred.resolve(\\\"hello world\\\");\\n\")), mdx(\"p\", null, \"This also works as it doesn\\u2019t matter if a Deferred is already resolved it will still trigger the callback we attach to it:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"var deferred = $.Deferred();\\n\\ndeferred.resolve(\\\"hello world\\\");\\n\\ndeferred.done(function(value) {\\n  alert(value);\\n});\\n\")), mdx(\"h3\", {\n    \"id\": \"a-canonical-promise--when-example\"\n  }, \"A canonical Promise + When example\"), mdx(\"p\", null, \"Return a Promise from a method and attach a listener to it (can have more than one):\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"function getPromise() {\\n  var deferred = $.Deferred();\\n\\n  setTimeout(function() {\\n    deferred.resolve(\\\"hurray\\\");\\n  }, 1000);\\n\\n  return deferred.promise();\\n}\\n\\n$.when(getPromise()).done(function(value) {\\n  alert(value);\\n});\\n\")), mdx(\"h3\", {\n    \"id\": \"so-lets-untangle-our-example\"\n  }, \"So let\\u2019s untangle our example\"), mdx(\"p\", null, \"Create a Promise for DOM ready and the two AJAX requests and wait for all of them to be fulfilled:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"function getReady() {\\n  var deferredReady = $.Deferred();\\n  $(document).ready(function() {\\n    deferredReady.resolve();\\n  });\\n  return deferredReady.promise();\\n}\\n\\nvar firstRequest = $.ajax({\\n    url: \\\"http://www.html5rocks.com/en/tutorials/file/xhr2/\\\"\\n  }),\\n  secondRequest = $.ajax({\\n    url: \\\"http://www.html5rocks.com/en/tutorials/audio/scheduling/\\\"\\n  });\\n\\n$.when(getReady(), firstRequest, secondRequest).done(function(\\n  readyResponse,\\n  firstResponse,\\n  secondResponse\\n) {\\n  var insertDiv1 = $(\\\"<div></div>\\\");\\n  insertDiv1.html(\\n    $(firstResponse[0])\\n      .find(\\\"section\\\")\\n      .html()\\n  );\\n  var insertDiv2 = $(\\\"<div></div>\\\");\\n  insertDiv2.html(\\n    $(secondResponse[0])\\n      .find(\\\"section\\\")\\n      .html()\\n  );\\n  $(\\\"body\\\").append(insertDiv1, \\\"<hr/>\\\", insertDiv2);\\n});\\n\")), mdx(\"h3\", {\n    \"id\": \"another-solution\"\n  }, \"Another solution\"), mdx(\"p\", null, \"The AJAX request can be already fired off while we wait for the DOM (also showing how can we chain listeners with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"then()\"), \"):\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"function getReady() {\\n  var deferredReady = $.Deferred();\\n  $(document).ready(function() {\\n    deferredReady.resolve();\\n  });\\n  return deferredReady.promise();\\n}\\n\\nvar firstRequest = $.ajax({\\n    url: \\\"http://www.html5rocks.com/en/tutorials/file/xhr2/\\\"\\n  }),\\n  secondRequest = $.ajax({\\n    url: \\\"http://www.html5rocks.com/en/tutorials/audio/scheduling/\\\"\\n  }),\\n  firstDiv,\\n  secondDiv;\\n\\n$.when(firstRequest, secondRequest)\\n  .then(function(firstResponse, secondResponse) {\\n    firstDiv = $(\\\"<div></div>\\\").html(\\n      $(firstResponse[0])\\n        .find(\\\"section\\\")\\n        .html()\\n    );\\n    secondDiv = $(\\\"<div></div>\\\").html(\\n      $(secondResponse[0])\\n        .find(\\\"section\\\")\\n        .html()\\n    );\\n    return getReady();\\n  })\\n  .done(function(readyResponse, firstResponse, secondResponse) {\\n    $(\\\"body\\\").append(firstDiv, \\\"<hr/>\\\", secondDiv);\\n  });\\n\")), mdx(\"h2\", {\n    \"id\": \"dealing-with-rejection\"\n  }, \"Dealing with rejection\"), mdx(\"p\", null, \"When a Promise gets \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"reject()\"), \"ed it will immediately cascade down the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"then()\"), \" chain so you only need to handle it at the end (with jQuery it\\u2019s only since 1.8+ though).\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"getTweetsFor(\\\"domenic\\\") // promise-returning function\\n  .then(function (tweets) {\\n    var shortUrls = parseTweetsForUrls(tweets);\\n    var mostRecentShortUrl = shortUrls[0];\\n    return expandUrlUsingTwitterApi(mostRecentShortUrl); // promise-returning function\\n  })\\n  .then(httpGet) // promise-returning function\\n  .then(\\n    function (responseBody) {\\n      console.log(\\\"Most recent link text:\\\", responseBody);\\n    },\\n    function (error) {\\n      console.error(\\\"Error with the twitterverse:\\\", error);\\n    }\\n  );\\n\")), mdx(\"p\", null, \"I\\u2019ve taken this example from \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://domenic.me/2012/10/14/youre-missing-the-point-of-promises/\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"Domenic Denicola\\u2019s blog post \\u201CYou\\u2019re Missing the Point of Promises\\u201D\"), \" which is a great next step on the path of understanding Promises and asynchronous control flows. Go and read it now!\"), mdx(\"h2\", {\n    \"id\": \"a-few-more-pointers\"\n  }, \"A few more pointers\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"In case there\\u2019s a long request you can send updates to a \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"progress()\"), \" listener using \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"notify()\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"You can insert transformations into the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"then()\"), \" chain\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"$.when({ testing: 123 }).done(\\n  function(x) {\\n    alert(x.testing);\\n  } /* alerts \\\"123\\\" */\\n);\\n\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"And finally it must be said that jQuery Deferred is by far not the only one, see \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"http://wiki.commonjs.org/wiki/Promises/A\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"Promises/A spec\"), \" and the clarified \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"http://promises-aplus.github.com/promises-spec/\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"Promises/A+ spec\"), \". If you\\u2019re not already using jQuery then \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://github.com/kriskowal/q\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"Q\"), \", \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://github.com/tildeio/rsvp.js\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"rsvp.js\"), \" or \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://github.com/cujojs/when\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"when\"), \" might be better alternatives with seamless interoperability due to stricter adherence to the CommonJS specs.\")));\n}\n;\nMDXContent.isMDXComponent = true;","hero":{"full":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABTElEQVQoz4VS7XKCMBD07Ts+Qn2Ojm/gTMc//pIZoa2VWouCfKhASHLZXhAqom1vZucuXLJZNjdAE8aYn9zCRpHniKIIZVki57rb755pY9Ana4Oa/DQe42E4xONohOfp9LwPl+ieuSJsG8RKiJXQ6QRzPEI1SIIAJATAoMOhhrHrewq7HykMoWYzSMdBNXegXLeuyWbPg2CV5WSCivdovqQv6EahkBJxEkOLwjYufmkNUgrGgmvT/HrfrsH1Q4DNL7BafmA1/0T4tsPmJUDib1BEIWSaomBItgT/EbZZKYl9kuHV9ZGtI8RfMbJNiDLcQaUZRJaypwdo9lBXVevX74SCjZaywru3xtIJ4M59LBYR9mtWud0i2Wc8RgmIrTFE5xf/i9DOWsU3E7FaLaFIQXJb82HroVS6Rt/7u4T1K9tbe7NVm8ta+vN3j/Abgd0KrzKgAckAAAAASUVORK5CYII=","aspectRatio":1.9744572158365261,"src":"/static/455e0ae33f942992c3e809fdeca8fed9/a1946/slide.png","srcSet":"/static/455e0ae33f942992c3e809fdeca8fed9/5b37e/slide.png 236w,\n/static/455e0ae33f942992c3e809fdeca8fed9/49058/slide.png 472w,\n/static/455e0ae33f942992c3e809fdeca8fed9/a1946/slide.png 944w,\n/static/455e0ae33f942992c3e809fdeca8fed9/030f1/slide.png 1416w,\n/static/455e0ae33f942992c3e809fdeca8fed9/75927/slide.png 1888w,\n/static/455e0ae33f942992c3e809fdeca8fed9/b32fd/slide.png 3092w","srcWebp":"/static/455e0ae33f942992c3e809fdeca8fed9/99fbb/slide.webp","srcSetWebp":"/static/455e0ae33f942992c3e809fdeca8fed9/77392/slide.webp 236w,\n/static/455e0ae33f942992c3e809fdeca8fed9/1f177/slide.webp 472w,\n/static/455e0ae33f942992c3e809fdeca8fed9/99fbb/slide.webp 944w,\n/static/455e0ae33f942992c3e809fdeca8fed9/4a492/slide.webp 1416w,\n/static/455e0ae33f942992c3e809fdeca8fed9/b0b8f/slide.webp 1888w,\n/static/455e0ae33f942992c3e809fdeca8fed9/0a6f7/slide.webp 3092w","sizes":"(max-width: 944px) 100vw, 944px"},"regular":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABTElEQVQoz4VS7XKCMBD07Ts+Qn2Ojm/gTMc//pIZoa2VWouCfKhASHLZXhAqom1vZucuXLJZNjdAE8aYn9zCRpHniKIIZVki57rb755pY9Ana4Oa/DQe42E4xONohOfp9LwPl+ieuSJsG8RKiJXQ6QRzPEI1SIIAJATAoMOhhrHrewq7HykMoWYzSMdBNXegXLeuyWbPg2CV5WSCivdovqQv6EahkBJxEkOLwjYufmkNUgrGgmvT/HrfrsH1Q4DNL7BafmA1/0T4tsPmJUDib1BEIWSaomBItgT/EbZZKYl9kuHV9ZGtI8RfMbJNiDLcQaUZRJaypwdo9lBXVevX74SCjZaywru3xtIJ4M59LBYR9mtWud0i2Wc8RgmIrTFE5xf/i9DOWsU3E7FaLaFIQXJb82HroVS6Rt/7u4T1K9tbe7NVm8ta+vN3j/Abgd0KrzKgAckAAAAASUVORK5CYII=","aspectRatio":1.9744572158365261,"src":"/static/455e0ae33f942992c3e809fdeca8fed9/3ddd4/slide.png","srcSet":"/static/455e0ae33f942992c3e809fdeca8fed9/078a8/slide.png 163w,\n/static/455e0ae33f942992c3e809fdeca8fed9/e56da/slide.png 327w,\n/static/455e0ae33f942992c3e809fdeca8fed9/3ddd4/slide.png 653w,\n/static/455e0ae33f942992c3e809fdeca8fed9/c5cc7/slide.png 980w,\n/static/455e0ae33f942992c3e809fdeca8fed9/eebd2/slide.png 1306w,\n/static/455e0ae33f942992c3e809fdeca8fed9/b32fd/slide.png 3092w","srcWebp":"/static/455e0ae33f942992c3e809fdeca8fed9/0acdf/slide.webp","srcSetWebp":"/static/455e0ae33f942992c3e809fdeca8fed9/ac59e/slide.webp 163w,\n/static/455e0ae33f942992c3e809fdeca8fed9/7660b/slide.webp 327w,\n/static/455e0ae33f942992c3e809fdeca8fed9/0acdf/slide.webp 653w,\n/static/455e0ae33f942992c3e809fdeca8fed9/75470/slide.webp 980w,\n/static/455e0ae33f942992c3e809fdeca8fed9/68d47/slide.webp 1306w,\n/static/455e0ae33f942992c3e809fdeca8fed9/0a6f7/slide.webp 3092w","sizes":"(max-width: 653px) 100vw, 653px"},"narrow":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABTElEQVQoz4VS7XKCMBD07Ts+Qn2Ojm/gTMc//pIZoa2VWouCfKhASHLZXhAqom1vZucuXLJZNjdAE8aYn9zCRpHniKIIZVki57rb755pY9Ana4Oa/DQe42E4xONohOfp9LwPl+ieuSJsG8RKiJXQ6QRzPEI1SIIAJATAoMOhhrHrewq7HykMoWYzSMdBNXegXLeuyWbPg2CV5WSCivdovqQv6EahkBJxEkOLwjYufmkNUgrGgmvT/HrfrsH1Q4DNL7BafmA1/0T4tsPmJUDib1BEIWSaomBItgT/EbZZKYl9kuHV9ZGtI8RfMbJNiDLcQaUZRJaypwdo9lBXVevX74SCjZaywru3xtIJ4M59LBYR9mtWud0i2Wc8RgmIrTFE5xf/i9DOWsU3E7FaLaFIQXJb82HroVS6Rt/7u4T1K9tbe7NVm8ta+vN3j/Abgd0KrzKgAckAAAAASUVORK5CYII=","aspectRatio":1.9744572158365261,"src":"/static/455e0ae33f942992c3e809fdeca8fed9/502b1/slide.png","srcSet":"/static/455e0ae33f942992c3e809fdeca8fed9/f2e6d/slide.png 114w,\n/static/455e0ae33f942992c3e809fdeca8fed9/4ddba/slide.png 229w,\n/static/455e0ae33f942992c3e809fdeca8fed9/502b1/slide.png 457w,\n/static/455e0ae33f942992c3e809fdeca8fed9/7ddc2/slide.png 686w,\n/static/455e0ae33f942992c3e809fdeca8fed9/435bf/slide.png 914w,\n/static/455e0ae33f942992c3e809fdeca8fed9/b32fd/slide.png 3092w","srcWebp":"/static/455e0ae33f942992c3e809fdeca8fed9/15384/slide.webp","srcSetWebp":"/static/455e0ae33f942992c3e809fdeca8fed9/31fce/slide.webp 114w,\n/static/455e0ae33f942992c3e809fdeca8fed9/e3e25/slide.webp 229w,\n/static/455e0ae33f942992c3e809fdeca8fed9/15384/slide.webp 457w,\n/static/455e0ae33f942992c3e809fdeca8fed9/0258d/slide.webp 686w,\n/static/455e0ae33f942992c3e809fdeca8fed9/64ea2/slide.webp 914w,\n/static/455e0ae33f942992c3e809fdeca8fed9/0a6f7/slide.webp 3092w","sizes":"(max-width: 457px) 100vw, 457px"},"seo":{"src":"/static/455e0ae33f942992c3e809fdeca8fed9/6050d/slide.png"}}},{"id":"d3d0d05d-6c9e-551d-9a63-7598815c60eb","slug":"/blog/2013/01/18/Getting-Cross-origin-resource-sharing-with-complex-jQuery-AJAX-requests/","secret":false,"title":"Getting Cross-origin resource sharing with complex jQuery AJAX requests","author":"Daniel Demmel","date":"January 18th, 2013","dateForSEO":"2013-01-18T00:00:00.000Z","timeToRead":2,"excerpt":"CORS can be tricky, especially if you need to do something beyond the basics like authorisation or custom headers.","canonical_url":null,"subscription":true,"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Getting Cross-origin resource sharing with complex jQuery AJAX requests\",\n  \"date\": \"2013-01-18T00:00:00.000Z\",\n  \"categories\": [\"web\", \"development\", \"jquery\", \"javascript\", \"cors\"],\n  \"author\": \"Daniel Demmel\",\n  \"hero\": \"./images/sharing.jpg\",\n  \"excerpt\": \"CORS can be tricky, especially if you need to do something beyond the basics like authorisation or custom headers.\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"I\\u2019m working on an HTML5 desktop application which needs to load some HTML text from a server, but not through an existing API. So I had to find a solution which can be set up without too much backend work and make it possible for non-technical people to easily update the content. I\\u2019m assuming that the easiest setup will be using an existing CMS system with a few custom server settings to enable cross-domain communication. It\\u2019s also a security sensitive application, so the content will need to be protected with basic authorisation at least.\"), mdx(\"p\", null, \"Well, let me get things straight: CORS which is more than the simplest GET request is not easy!\"), mdx(\"p\", null, \"While trying to set up and end to end proof of concept to make sure this will work and to be able to advise with setup I ran into several blockers, so I\\u2019m going to go through them step by step.\"), mdx(\"h2\", {\n    \"id\": \"setting-up-the-jquery-ajax-request\"\n  }, \"Setting up the jQuery AJAX request\"), mdx(\"p\", null, \"For simple use cases all you need to do to is fire off a simple GET request:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"$.ajax({\\n  type: \\\"GET\\\",\\n  url: \\\"http://www.html5rocks.com/en/tutorials/file/xhr2/\\\",\\n  success: function(response) {\\n    var article = $(response)\\n      .find(\\\"article\\\")\\n      .html();\\n    $(\\\"body\\\").html(article);\\n  }\\n});\\n\")), mdx(\"p\", null, \"If the server you\\u2019re hitting is sending back the header \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Access-Control-Allow-Origin\"), \" with the value \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"*\"), \" you\\u2019re all set:\"), mdx(\"a\", {\n    className: \"jsbin-embed\",\n    href: \"http://jsbin.com/atobin/1/embed?live,javascript\"\n  }, \"JS Bin\"), mdx(\"script\", {\n    src: \"http://static.jsbin.com/js/embed.js\"\n  }), mdx(\"p\", null, \"However what I ended up with is far more complicated, as doing anything with custom headers (which included authorisation) you have to first make a so called \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://www.html5rocks.com/en/tutorials/cors/#toc-handling-a-not-so-simple-request\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"preflight\"), \" request. This is an OPTIONS request which only asks the server if it supports all the headers needed for the \\u2018real\\u2019 request which follows.\"), mdx(\"p\", null, \"So let\\u2019s first see the full AJAX request:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"$.ajax({\\n  type: \\\"GET\\\",\\n  url: \\\"http://www.mydomain.com/myFancyContent.php\\\",\\n  headers: {\\n    MyCustomHeader: \\\"important information\\\"\\n  },\\n  xhrFields: {\\n    withCredentials: true\\n  },\\n  username: \\\"myuser\\\",\\n  password: \\\"mypassword\\\",\\n  success: function() {\\n    console.log(\\\"success\\\");\\n  },\\n  error: function() {\\n    console.log(\\\"failure\\\");\\n  }\\n});\\n\")), mdx(\"p\", null, \"JQuery has some helpers for authorisation, so the easiest way to get it working is setting \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"xhrFields.withCredentials\"), \" to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"true\"), \" and passing \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"username\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"password\"), \" as separate parameters, this way we don\\u2019t have to worry about the intricacies of creating the auth hash ourselves.\"), mdx(\"p\", null, \"Another convenience property is \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"headers\"), \" which you can use to inject any custom headers you might need, without having to manually do it with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"beforeSend\"), \".\"), mdx(\"h2\", {\n    \"id\": \"apache-config\"\n  }, \"Apache config\"), mdx(\"p\", null, \"Another big stumbling block for me was to get the settings for Apache right.\"), mdx(\"p\", null, \"The very first thing you need to do is making sure \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"mod_headers\"), \" is enabled, which can be as simple as:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-sh\"\n  }), \"sudo a2enmod headers\\nsudo /etc/init.d/apache2 force-reload\\n\")), mdx(\"p\", null, \"Once that\\u2019s done, you can either edit your main \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"httpd.conf\"), \" or \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"apache.conf\"), \" files, or just create an \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".htaccess\"), \" file in the folder you want to enable CORS in.\"), mdx(\"p\", null, \"These are the settings I ended up with after a lot of experimentation:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-conf\"\n  }), \"SetEnvIf Origin ^(.*)$ ORIGIN_DOMAIN=$0\\n<Files \\\"*\\\">\\n  Header add Access-Control-Allow-Origin %{ORIGIN_DOMAIN}e\\n  Header add Access-Control-Allow-Methods \\\"GET, OPTIONS\\\"\\n  Header add Access-Control-Allow-Headers \\\"Authorization, X-Requested-With, Content-Type, Origin, Accept\\\"\\n  Header add Access-Control-Allow-Credentials \\\"true\\\"\\n</Files>\\n\")), mdx(\"p\", null, \"The first line makes sure that \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Origin\"), \" is echoed back, because as it turns out once you have some custom headers a simple \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"*\"), \" in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Access-Control-Allow-Origin\"), \" won\\u2019t do any more. You can do some URL filtering here if you want, but this setup makes sure that even \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"file:///\"), \" works which is great for development.\"), mdx(\"p\", null, \"In \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Access-Control-Allow-Methods\"), \" we make sure that \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"OPTIONS\"), \" will work, and with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Access-Control-Allow-Headers\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Access-Control-Allow-Credentials\"), \" we set everything up for a basic authorisation handshake.\"), mdx(\"p\", null, \"Annoyingly none of these worked on the simple HTML file I uploaded, until as a desperate idea after a few hours of futile attempts I tried renaming it to PHP extension which made Apache suddenly apply all of them.\"), mdx(\"p\", null, \"If that wasn\\u2019t enough, the unregistered development HTTPS security certificate also blocked my attempts to get things working. If you open any URL on the server you\\u2019re using and accept the certificate this problem will go away, otherwise the options are to \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://superuser.com/questions/27268/how-do-i-disable-the-warning-chrome-gives-if-a-security-certificate-is-not-trust\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"install / import the certificate on a system level\"), \" or to start the browser with some flags like \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"--allow-running-insecure-content\"), \" for Chrome.\"), mdx(\"p\", null, \"Hope this will help someone else facing the same problems!\"), mdx(\"h2\", {\n    \"id\": \"credits\"\n  }, \"Credits\"), mdx(\"p\", null, \"Hero image: \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://en.kremlin.ru/events/president/news/52898/photos/45602\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer\"\n  }), \"http://en.kremlin.ru/events/president/news/52898/photos/45602\")));\n}\n;\nMDXContent.isMDXComponent = true;","hero":{"full":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAQFA//EABUBAQEAAAAAAAAAAAAAAAAAAAID/9oADAMBAAIQAxAAAAFd+HYmsCWM/wD/xAAcEAAABgMAAAAAAAAAAAAAAAABAgQREjEAAxT/2gAIAQEAAQUC6XATMnBTHGia9Jr/AP/EABcRAQADAAAAAAAAAAAAAAAAAAABESH/2gAIAQMBAT8BjVv/xAAXEQEBAQEAAAAAAAAAAAAAAAABAAIR/9oACAECAQE/AXhOS//EABwQAAICAgMAAAAAAAAAAAAAAAARAUEQITFRcf/aAAgBAQAGPwJT0LjViRFk+Y//xAAbEAEAAgMBAQAAAAAAAAAAAAABACERMVGBQf/aAAgBAQABPyF5lTT95AXF0mUMWPsQ0PUd2KUn/9oADAMBAAIAAwAAABAPL//EABcRAAMBAAAAAAAAAAAAAAAAAAABETH/2gAIAQMBAT8QV6KP/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAR/9oACAECAQE/ENghJdS//8QAHBABAQACAwEBAAAAAAAAAAAAAREAMSFBYYGR/9oACAEBAAE/EO4ohiIRXifmC7Q9GyRxsoHrgcGsKBDZrfkxygBqHhcVQATP/9k=","aspectRatio":1.6206896551724137,"src":"/static/5d36cd1445046b46fa32512a03ac72a0/58fe7/sharing.jpg","srcSet":"/static/5d36cd1445046b46fa32512a03ac72a0/e0f30/sharing.jpg 236w,\n/static/5d36cd1445046b46fa32512a03ac72a0/86afd/sharing.jpg 472w,\n/static/5d36cd1445046b46fa32512a03ac72a0/58fe7/sharing.jpg 944w,\n/static/5d36cd1445046b46fa32512a03ac72a0/02748/sharing.jpg 1416w,\n/static/5d36cd1445046b46fa32512a03ac72a0/f2a59/sharing.jpg 1880w","srcWebp":"/static/5d36cd1445046b46fa32512a03ac72a0/99fbb/sharing.webp","srcSetWebp":"/static/5d36cd1445046b46fa32512a03ac72a0/77392/sharing.webp 236w,\n/static/5d36cd1445046b46fa32512a03ac72a0/1f177/sharing.webp 472w,\n/static/5d36cd1445046b46fa32512a03ac72a0/99fbb/sharing.webp 944w,\n/static/5d36cd1445046b46fa32512a03ac72a0/4a492/sharing.webp 1416w,\n/static/5d36cd1445046b46fa32512a03ac72a0/a5985/sharing.webp 1880w","sizes":"(max-width: 944px) 100vw, 944px"},"regular":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAQFA//EABUBAQEAAAAAAAAAAAAAAAAAAAID/9oADAMBAAIQAxAAAAFd+HYmsCWM/wD/xAAcEAAABgMAAAAAAAAAAAAAAAABAgQREjEAAxT/2gAIAQEAAQUC6XATMnBTHGia9Jr/AP/EABcRAQADAAAAAAAAAAAAAAAAAAABESH/2gAIAQMBAT8BjVv/xAAXEQEBAQEAAAAAAAAAAAAAAAABAAIR/9oACAECAQE/AXhOS//EABwQAAICAgMAAAAAAAAAAAAAAAARAUEQITFRcf/aAAgBAQAGPwJT0LjViRFk+Y//xAAbEAEAAgMBAQAAAAAAAAAAAAABACERMVGBQf/aAAgBAQABPyF5lTT95AXF0mUMWPsQ0PUd2KUn/9oADAMBAAIAAwAAABAPL//EABcRAAMBAAAAAAAAAAAAAAAAAAABETH/2gAIAQMBAT8QV6KP/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAR/9oACAECAQE/ENghJdS//8QAHBABAQACAwEBAAAAAAAAAAAAAREAMSFBYYGR/9oACAEBAAE/EO4ohiIRXifmC7Q9GyRxsoHrgcGsKBDZrfkxygBqHhcVQATP/9k=","aspectRatio":1.6206896551724137,"src":"/static/5d36cd1445046b46fa32512a03ac72a0/1dc0b/sharing.jpg","srcSet":"/static/5d36cd1445046b46fa32512a03ac72a0/3a5ce/sharing.jpg 163w,\n/static/5d36cd1445046b46fa32512a03ac72a0/05730/sharing.jpg 327w,\n/static/5d36cd1445046b46fa32512a03ac72a0/1dc0b/sharing.jpg 653w,\n/static/5d36cd1445046b46fa32512a03ac72a0/f72c7/sharing.jpg 980w,\n/static/5d36cd1445046b46fa32512a03ac72a0/6e4a3/sharing.jpg 1306w,\n/static/5d36cd1445046b46fa32512a03ac72a0/f2a59/sharing.jpg 1880w","srcWebp":"/static/5d36cd1445046b46fa32512a03ac72a0/0acdf/sharing.webp","srcSetWebp":"/static/5d36cd1445046b46fa32512a03ac72a0/ac59e/sharing.webp 163w,\n/static/5d36cd1445046b46fa32512a03ac72a0/7660b/sharing.webp 327w,\n/static/5d36cd1445046b46fa32512a03ac72a0/0acdf/sharing.webp 653w,\n/static/5d36cd1445046b46fa32512a03ac72a0/75470/sharing.webp 980w,\n/static/5d36cd1445046b46fa32512a03ac72a0/68d47/sharing.webp 1306w,\n/static/5d36cd1445046b46fa32512a03ac72a0/a5985/sharing.webp 1880w","sizes":"(max-width: 653px) 100vw, 653px"},"narrow":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAQFA//EABUBAQEAAAAAAAAAAAAAAAAAAAID/9oADAMBAAIQAxAAAAFd+HYmsCWM/wD/xAAcEAAABgMAAAAAAAAAAAAAAAABAgQREjEAAxT/2gAIAQEAAQUC6XATMnBTHGia9Jr/AP/EABcRAQADAAAAAAAAAAAAAAAAAAABESH/2gAIAQMBAT8BjVv/xAAXEQEBAQEAAAAAAAAAAAAAAAABAAIR/9oACAECAQE/AXhOS//EABwQAAICAgMAAAAAAAAAAAAAAAARAUEQITFRcf/aAAgBAQAGPwJT0LjViRFk+Y//xAAbEAEAAgMBAQAAAAAAAAAAAAABACERMVGBQf/aAAgBAQABPyF5lTT95AXF0mUMWPsQ0PUd2KUn/9oADAMBAAIAAwAAABAPL//EABcRAAMBAAAAAAAAAAAAAAAAAAABETH/2gAIAQMBAT8QV6KP/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAR/9oACAECAQE/ENghJdS//8QAHBABAQACAwEBAAAAAAAAAAAAAREAMSFBYYGR/9oACAEBAAE/EO4ohiIRXifmC7Q9GyRxsoHrgcGsKBDZrfkxygBqHhcVQATP/9k=","aspectRatio":1.6206896551724137,"src":"/static/5d36cd1445046b46fa32512a03ac72a0/eaa58/sharing.jpg","srcSet":"/static/5d36cd1445046b46fa32512a03ac72a0/5a3ee/sharing.jpg 114w,\n/static/5d36cd1445046b46fa32512a03ac72a0/41f8f/sharing.jpg 229w,\n/static/5d36cd1445046b46fa32512a03ac72a0/eaa58/sharing.jpg 457w,\n/static/5d36cd1445046b46fa32512a03ac72a0/c309b/sharing.jpg 686w,\n/static/5d36cd1445046b46fa32512a03ac72a0/e3008/sharing.jpg 914w,\n/static/5d36cd1445046b46fa32512a03ac72a0/f2a59/sharing.jpg 1880w","srcWebp":"/static/5d36cd1445046b46fa32512a03ac72a0/15384/sharing.webp","srcSetWebp":"/static/5d36cd1445046b46fa32512a03ac72a0/31fce/sharing.webp 114w,\n/static/5d36cd1445046b46fa32512a03ac72a0/e3e25/sharing.webp 229w,\n/static/5d36cd1445046b46fa32512a03ac72a0/15384/sharing.webp 457w,\n/static/5d36cd1445046b46fa32512a03ac72a0/0258d/sharing.webp 686w,\n/static/5d36cd1445046b46fa32512a03ac72a0/64ea2/sharing.webp 914w,\n/static/5d36cd1445046b46fa32512a03ac72a0/a5985/sharing.webp 1880w","sizes":"(max-width: 457px) 100vw, 457px"},"seo":{"src":"/static/5d36cd1445046b46fa32512a03ac72a0/0ff54/sharing.jpg"}}}]}}}